<!DOCTYPE html>
<html>
  <head>
    <title>Log in</title>
    <link href="main.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <h1> Welcome! </h1>
    <h2> Please log in! </h2>
    <form action="fizzbuzz.html" method="GET">
      <br>
      <label for="username">Username:</label><br>
      <input type="text" id="username" name="username" onkeyup="checkUser()" onchange="checkUser()"><br><br>
      <input type="submit" value="Submit">
    </form>
    <script src="main.js"></script>
    <script>
      // If user does not exist, create the user. 
      // (response.status = 200 means the user does not exist and response.data = null)
      function checkUser(){
         get("http://basic-web.dev.avc.web.usf.edu/" + document.getElementById("username").innerHTML).then(function(response){
          if(response.status != 200){
            post("http://basic-web.dev.avc.web.usf.edu/" + document.getElementById("username").innerHTML, { score: 0 }); // Create a new user.
          }
        });
      }
      </script>
  </body>
</html>
